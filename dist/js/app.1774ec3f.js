(function(t){function e(e){for(var n,c,l=e[0],i=e[1],s=e[2],d=0,f=[];d<l.length;d++)c=l[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&f.push(r[c][0]),r[c]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,s||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,l=1;l<a.length;l++){var i=a[l];0!==r[i]&&(n=!1)}n&&(o.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},r={app:0},o=[];function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=e,l=l.slice();for(var s=0;s<l.length;s++)e(l[s]);var u=i;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-container",[a("el-menu",{staticStyle:{width:"100%",background:"#fff"},attrs:{mode:"horizontal"}},[a("el-menu-item",{attrs:{index:"1"}},[a("img",{staticStyle:{width:"40px"},attrs:{src:"https://www.pengwang.xyz/logo.png",alt:""}})]),a("el-menu-item",{attrs:{index:"2"}},[a("router-link",{staticStyle:{"font-size":"20px"},attrs:{to:"/"}},[t._v(" 首页 ")])],1),a("el-menu-item",{staticStyle:{float:"right",marginTop:"5px"},attrs:{index:"3"}},[a("router-link",{staticClass:"cartIcon",attrs:{to:"/cart"}},[a("el-badge",{staticClass:"badge",attrs:{value:t.cartTotal}},[a("i",{staticClass:"el-icon-shopping-cart-1",staticStyle:{"font-size":"25px"}})])],1)],1)],1)],1),a("el-main",[a("router-view")],1)],1)},o=[],c=a("5530"),l=a("2f62"),i={data:function(){return{}},computed:Object(c["a"])({},Object(l["b"])(["cartTotal"]))},s=i,u=a("2877"),d=Object(u["a"])(s,r,o,!1,null,"8484f652",null),f=d.exports,p=a("8c4f"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("el-row",{attrs:{gutter:20}},t._l(t.goods,(function(e,n){return a("el-col",{key:n,staticStyle:{"margin-bottom":"10px"},attrs:{span:6}},[a("el-card",[a("img",{staticClass:"img",attrs:{src:e.img,alt:""}}),a("div",{staticClass:"message",staticStyle:{padding:"6px"}},[a("span",{staticClass:"goodtitle"},[t._v(t._s(e.title))]),a("el-button",{attrs:{type:"text"},on:{click:function(e){return t.addCart(e,n)}}},[a("i",{staticClass:"el-icon-shopping-cart-2",staticStyle:{"font-size":"23px"}})])],1)])],1)})),1),a("div",{staticClass:"ball-wrap"},[a("transition",{on:{"before-enter":t.beforeEnter,enter:t.enter,"after-enter":t.afterEnter}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.ball.show,expression:"ball.show"}],staticClass:"ball"},[a("div",{staticClass:"inner"},[a("div",{staticClass:"el-icon-circle-plus"})])])])],1)],1)},h=[],b=(a("96cf"),a("1da1")),g=a("bc3a"),v=a.n(g),y="";"localhost"==location.hostname?y="http://localhost:8080":"192.168.10.175"==location.hostname?y=" http://192.168.10.175:8080":"yanyufanchen.gitee.io"==location.hostname&&(y="https://www.easy-mock.com/mock/5f587287d5906660c22dae4d/example"),v.a.defaults.baseURL=y,console.log(location.hostname,y,"url"),v.a.defaults.timeout=2500;var w=function(t){return v.a.get("/goods",t)},x={data:function(){return{title:"kaikeba",ball:{show:!1,el:null},goods:[],cart:[]}},components:{},created:function(){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:a=e.sent,n=a.data,t.goods=n.data;case 5:case"end":return e.stop()}}),e)})))()},methods:{addCart:function(t,e){this.ball.el=t.target,this.ball.show=!0;var a=this.goods[e];this.$store.commit("$addCart",a)},addNum:function(t){console.log(t,"购物车add"),this.cart[t].count++},beforeEnter:function(t){var e=this.ball.el,a=e.getBoundingClientRect(),n=window.innerWidth-a.left-60,r=a.top-20;t.style.display="",t.style.transform="translate3d(0,".concat(r,"px,0)");var o=t.querySelector(".inner");o.style.transform="translate3d(-".concat(n,"px,0,0)")},enter:function(t,e){this.ball.el;this._offset=document.body.offsetHeight,t.style.transform="translate3d(0,0,0)",t.addEventListener("transitionend",e);var a=t.querySelector(".inner");a.style.transform="translate3d(0,0,0)"},afterEnter:function(){this.ball.show=!1,this.ball.display="none"}}},C=x,O=(a("de16"),Object(u["a"])(C,m,h,!1,null,null,null)),_=O.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("el-tag",{attrs:{type:"success"}},[t._v("购物车")]),a("Cart",{attrs:{cart:t.cart},on:{cartAdd:t.addNum,cartlose:t.loseNum}})],1)},S=[],$=(a("7db0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.cart}},[a("el-table-column",{attrs:{prop:"title",label:"商品",width:"300"}}),a("el-table-column",{attrs:{prop:"price",label:"单价",width:"180"}}),a("el-table-column",{attrs:{prop:"totalPrice",label:"金额",width:"180"}}),a("el-table-column",{attrs:{prop:"count",label:"总量",width:"180"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.lose(e)}}},[t._v("-")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.add(e)}}},[t._v("+")])]}}])})],1)]],2)}),k=[],N={data:function(){return{}},props:["cart"],methods:{add:function(t){this.$emit("cartAdd",t.$index)},lose:function(t){this.$emit("cartlose",t.$index)}}},P=N,E=Object(u["a"])(P,$,k,!1,null,"579206cb",null),z=E.exports,T={data:function(){return{}},components:{Cart:z},created:function(){console.log()},computed:Object(c["a"])({},Object(l["c"])(["cart"])),methods:{addCart:function(t){var e=this.goods[t],a=this.cart.find((function(t){return t.text===e.text}));a?a.count++:this.cart.push(Object(c["a"])(Object(c["a"])({},e),{},{count:1}))},addNum:function(t){this.$store.commit("$addCartNum",t)},loseNum:function(t){this.$store.commit("$loseCartNum",t)}}},J=T,M=Object(u["a"])(J,j,S,!1,null,null,null),R=M.exports;n["default"].use(p["a"]);var I=[{path:"/",name:"Home",component:_},{path:"/cart",name:"Cart",component:R}],q=new p["a"]({routes:I}),A=q;a("4160"),a("159b");n["default"].use(l["a"]);var H=new l["a"].Store({state:{cart:JSON.parse(localStorage.getItem("cart"))||[]},mutations:{$addCart:function(t,e){var a=t.cart.find((function(t){return t.title===e.title}));a?(a.count++,a.totalPrice=e.price*a.count):t.cart.push(Object(c["a"])(Object(c["a"])({},e),{},{count:1,totalPrice:1*e.price}))},$addCartNum:function(t,e){t.cart[e].count++,t.cart[e].totalPrice=t.cart[e].price*t.cart[e].count},$loseCartNum:function(t,e){t.cart[e].count>1&&(t.cart[e].count--,t.cart[e].totalPrice=t.cart[e].price*t.cart[e].count)}},actions:{},getters:{cartTotal:function(t){var e=0;return t.cart.forEach((function(t){e+=t.count})),e}},modules:{}});H.subscribe((function(t,e){localStorage.setItem("cart",JSON.stringify(e.cart))}));var L=H,B=a("5c96"),U=a.n(B);a("0fae");n["default"].use(U.a),n["default"].config.productionTip=!1,new n["default"]({router:A,store:L,render:function(t){return t(f)}}).$mount("#app")},"8d91":function(t,e,a){},de16:function(t,e,a){"use strict";var n=a("8d91"),r=a.n(n);r.a}});
//# sourceMappingURL=app.1774ec3f.js.map