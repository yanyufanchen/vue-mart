(function(t){function e(e){for(var a,c,i=e[0],l=e[1],s=e[2],d=0,f=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&f.push(r[c][0]),r[c]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,i=1;i<n.length;i++){var l=n[i];0!==r[l]&&(a=!1)}a&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},r={app:0},o=[];function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var s=0;s<i.length;s++)e(i[s]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-container",[n("el-menu",{staticStyle:{width:"100%",background:"#fff"},attrs:{mode:"horizontal"}},[n("el-menu-item",{attrs:{index:"1"}},[n("img",{staticStyle:{width:"40px"},attrs:{src:"https://www.pengwang.xyz/logo.png",alt:""}})]),n("el-menu-item",{attrs:{index:"2"}},[n("router-link",{staticStyle:{"font-size":"20px"},attrs:{to:"/"}},[t._v(" 首页 ")])],1),n("el-menu-item",{staticStyle:{float:"right",marginTop:"5px"},attrs:{index:"3"}},[n("router-link",{staticClass:"cartIcon",attrs:{to:"/cart"}},[n("el-badge",{staticClass:"badge",attrs:{value:t.cartTotal}},[n("i",{staticClass:"el-icon-shopping-cart-1",staticStyle:{"font-size":"25px"}})])],1)],1)],1)],1),n("el-main",[n("router-view")],1)],1)},o=[],c=n("5530"),i=n("2f62"),l={data:function(){return{}},computed:Object(c["a"])({},Object(i["b"])(["cartTotal"]))},s=l,u=n("2877"),d=Object(u["a"])(s,r,o,!1,null,"8484f652",null),f=d.exports,p=n("8c4f"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("el-row",{attrs:{gutter:20}},t._l(t.goods,(function(e,a){return n("el-col",{key:a,staticStyle:{"margin-bottom":"10px"},attrs:{span:6}},[n("el-card",[n("el-image",{staticClass:"img",attrs:{fit:"fit",src:e.img}}),n("div",{staticClass:"message",staticStyle:{padding:"6px"}},[n("span",{staticClass:"goodtitle"},[t._v(t._s(e.title))]),n("el-button",{attrs:{type:"text"},on:{click:function(e){return t.addCart(e,a)}}},[n("i",{staticClass:"el-icon-shopping-cart-2",staticStyle:{"font-size":"23px"}})])],1)],1)],1)})),1),n("div",{staticClass:"ball-wrap"},[n("transition",{on:{"before-enter":t.beforeEnter,enter:t.enter,"after-enter":t.afterEnter}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.ball.show,expression:"ball.show"}],staticClass:"ball"},[n("div",{staticClass:"inner"},[n("div",{staticClass:"el-icon-circle-plus"})])])])],1)],1)},b=[],h=(n("96cf"),n("1da1")),v=n("bc3a"),g=n.n(v);g.a.defaults.timeout=2500;var y=function(t){return g.a.get("/goods",t)},w={data:function(){return{title:"kaikeba",ball:{show:!1,el:null},goods:[],cart:[]}},components:{},created:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:n=e.sent,a=n.data,t.goods=a.data;case 5:case"end":return e.stop()}}),e)})))()},methods:{addCart:function(t,e){this.ball.el=t.target,this.ball.show=!0;var n=this.goods[e];this.$store.commit("$addCart",n)},addNum:function(t){console.log(t,"购物车add"),this.cart[t].count++},beforeEnter:function(t){var e=this.ball.el,n=e.getBoundingClientRect(),a=window.innerWidth-n.left-60,r=n.top-20;t.style.display="",t.style.transform="translate3d(0,".concat(r,"px,0)");var o=t.querySelector(".inner");o.style.transform="translate3d(-".concat(a,"px,0,0)")},enter:function(t,e){this.ball.el;this._offset=document.body.offsetHeight,t.style.transform="translate3d(0,0,0)",t.addEventListener("transitionend",e);var n=t.querySelector(".inner");n.style.transform="translate3d(0,0,0)"},afterEnter:function(){this.ball.show=!1,this.ball.display="none"}}},x=w,C=(n("de16"),Object(u["a"])(x,m,b,!1,null,null,null)),O=C.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("el-tag",{attrs:{type:"success"}},[t._v("购物车")]),n("Cart",{attrs:{cart:t.cart},on:{cartAdd:t.addNum,cartlose:t.loseNum}})],1)},j=[],S=(n("7db0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.cart}},[n("el-table-column",{attrs:{prop:"title",label:"商品",width:"300"}}),n("el-table-column",{attrs:{prop:"price",label:"单价",width:"180"}}),n("el-table-column",{attrs:{prop:"totalPrice",label:"金额",width:"180"}}),n("el-table-column",{attrs:{prop:"count",label:"总量",width:"180"}}),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return t.lose(e)}}},[t._v("-")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return t.add(e)}}},[t._v("+")])]}}])})],1)]],2)}),$=[],k={data:function(){return{}},props:["cart"],methods:{add:function(t){this.$emit("cartAdd",t.$index)},lose:function(t){this.$emit("cartlose",t.$index)}}},N=k,P=Object(u["a"])(N,S,$,!1,null,"579206cb",null),E=P.exports,z={data:function(){return{}},components:{Cart:E},created:function(){console.log()},computed:Object(c["a"])({},Object(i["c"])(["cart"])),methods:{addCart:function(t){var e=this.goods[t],n=this.cart.find((function(t){return t.text===e.text}));n?n.count++:this.cart.push(Object(c["a"])(Object(c["a"])({},e),{},{count:1}))},addNum:function(t){this.$store.commit("$addCartNum",t)},loseNum:function(t){this.$store.commit("$loseCartNum",t)}}},T=z,J=Object(u["a"])(T,_,j,!1,null,null,null),M=J.exports;a["default"].use(p["a"]);var I=[{path:"/",name:"Home",component:O},{path:"/cart",name:"Cart",component:M}],R=new p["a"]({routes:I}),q=R;n("4160"),n("159b");a["default"].use(i["a"]);var A=new i["a"].Store({state:{cart:JSON.parse(localStorage.getItem("cart"))||[]},mutations:{$addCart:function(t,e){var n=t.cart.find((function(t){return t.title===e.title}));n?(n.count++,n.totalPrice=e.price*n.count):t.cart.push(Object(c["a"])(Object(c["a"])({},e),{},{count:1,totalPrice:1*e.price}))},$addCartNum:function(t,e){t.cart[e].count++,t.cart[e].totalPrice=t.cart[e].price*t.cart[e].count},$loseCartNum:function(t,e){t.cart[e].count>1&&(t.cart[e].count--,t.cart[e].totalPrice=t.cart[e].price*t.cart[e].count)}},actions:{},getters:{cartTotal:function(t){var e=0;return t.cart.forEach((function(t){e+=t.count})),e}},modules:{}});A.subscribe((function(t,e){localStorage.setItem("cart",JSON.stringify(e.cart))}));var H=A,B=n("5c96"),L=n.n(B);n("0fae");a["default"].use(L.a),a["default"].config.productionTip=!1,new a["default"]({router:q,store:H,render:function(t){return t(f)}}).$mount("#app")},"8d91":function(t,e,n){},de16:function(t,e,n){"use strict";var a=n("8d91"),r=n.n(a);r.a}});
//# sourceMappingURL=app.0222974b.js.map